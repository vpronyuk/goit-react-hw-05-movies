{"version":3,"file":"static/js/845.58eb82fa.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/pages/movieDetailsNew/MovieDetails.module.css?da1f","pages/movieDetailsNew/MovieDetails.jsx","services/config.js","services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"detailsContainer\":\"MovieDetails_detailsContainer__eCu3B\",\"backLink\":\"MovieDetails_backLink__Qt5IZ\",\"poster\":\"MovieDetails_poster__MjTL6\",\"title\":\"MovieDetails_title__pMKoC\",\"userScore\":\"MovieDetails_userScore__UZNb+\",\"overviewTitle\":\"MovieDetails_overviewTitle__XT9J-\",\"overview\":\"MovieDetails_overview__mj9km\",\"genresTitle\":\"MovieDetails_genresTitle__09z4f\",\"genresList\":\"MovieDetails_genresList__oCaYY\",\"additionalInfoTitle\":\"MovieDetails_additionalInfoTitle__dXXUd\",\"additionalInfoLinks\":\"MovieDetails_additionalInfoLinks__EQw5r\"};","import { useParams, useLocation, Link, Outlet } from 'react-router-dom';\nimport { useState, useEffect, useRef, Suspense } from 'react';\nimport css from './MovieDetails.module.css';\n\nimport * as API from '../../services/api';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const [movieInfo, setMovieInfo] = useState({});\n  const location = useLocation();\n  const backLink = useRef(location.state?.from ?? `/movies`);\n\n  useEffect(() => {\n    async function loadMovieById(movieId) {\n      try {\n        const movieResponse = await API.getMovieDetails(movieId);\n        setMovieInfo(movieResponse);\n      } catch (error) {\n        console.log(error.message);\n      }\n    }\n    loadMovieById(movieId);\n  }, [movieId]);\n\n  return (\n    <div className={css.detailsContainer}>\n      {movieInfo && (\n        <>\n          <div className={css.title}>Movie Details page</div>\n          <Link className={css.backLink} to={backLink.current}>\n            Go back\n          </Link>\n          {movieInfo.poster_path ? (\n            <img\n              className={css.poster}\n              src={`https://image.tmdb.org/t/p/w780${movieInfo.poster_path}`}\n              alt={movieInfo.title}\n            />\n          ) : (\n            <img\n              className={css.poster}\n              src={`https://upload.wikimedia.org/wikipedia/commons/6/6c/No_image_3x4.svg`}\n              alt={movieInfo.title}\n            />\n          )}\n          <div className={css.title}>\n            {movieInfo.title} ({movieInfo.release_date?.slice(0, 4)})\n          </div>\n          <div className={css.userScore}>\n            User Score: &nbsp; {Math.round(movieInfo.vote_average * 10)}%\n          </div>\n\n          <div className={css.overviewTitle}>Overview</div>\n          <div className={css.overview}>{movieInfo.overview}</div>\n          {movieInfo.genres && (\n            <>\n              <div className={css.genresTitle}>Genres:</div>\n              <ul className={css.genresList}>\n                {movieInfo.genres.map(genre => (\n                  <li key={genre.id}>{genre.name}</li>\n                ))}\n              </ul>\n            </>\n          )}\n          <div className={css.additionalInfoTitle}>Additional information</div>\n          <div className={css.additionalInfoLinks}>\n            <Link className={css.additionalInfoLink} to={`cast`}>\n              Cast\n            </Link>\n            <Link className={css.additionalInfoLink} to={`reviews`}>\n              Reviews\n            </Link>\n          </div>\n          <Suspense>\n            <Outlet />\n          </Suspense>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default MovieDetails;\n","const config = {\n  BASE_URL: 'https://api.themoviedb.org/3',\n  API_KEY: 'd95cade1dc5c92803fa23ff687afbf7e',\n};\n\nexport default config;\n","import axios from 'axios';\nimport config from './config';\n\nexport const getTrendingMovies = async () => {\n  try {\n    const response = await axios.get(\n      `${config.BASE_URL}/trending/movie/week?api_key=${config.API_KEY}`\n    );\n    console.log(response.data.results);\n    return response.data.results;\n  } catch (error) {\n    console.log('Fetch error:', error);\n    return [];\n  }\n};\n\nexport const getSearchedMovies = async query => {\n  try {\n    const response = await axios.get(\n      `${config.BASE_URL}/search/movie?api_key=${config.API_KEY}&language=en-US&query=${query}&page=1&include_adult=false`\n    );\n    return response.data.results;\n  } catch (error) {\n    console.log('Fetch error:', error);\n    return [];\n  }\n};\n\nexport const getMovieDetails = async movieId => {\n  try {\n    const response = await axios.get(\n      `${config.BASE_URL}/movie/${movieId}?api_key=${config.API_KEY}&language=en-US`\n    );\n    return response.data;\n  } catch (error) {\n    console.log('Fetch error:', error);\n    return null;\n  }\n};\n\nexport const getMovieCast = async movieId => {\n  try {\n    const response = await axios.get(\n      `${config.BASE_URL}/movie/${movieId}/credits?api_key=${config.API_KEY}&language=en-US`\n    );\n    return response.data.cast;\n  } catch (error) {\n    console.log('Fetch error:', error);\n    return null;\n  }\n};\n\nexport const getMovieReviews = async movieId => {\n  try {\n    const response = await axios.get(\n      `${config.BASE_URL}/movie/${movieId}/reviews?api_key=${config.API_KEY}&language=en-US&page=1`\n    );\n    return response.data.results;\n  } catch (error) {\n    console.log('Fetch error:', error);\n    return null;\n  }\n};\n"],"names":["movieId","useParams","useState","movieInfo","setMovieInfo","location","useLocation","backLink","useRef","state","from","useEffect","API","movieResponse","console","log","message","loadMovieById","className","css","to","current","poster_path","src","alt","title","release_date","slice","Math","round","vote_average","overview","genres","map","genre","name","id","Suspense","BASE_URL","API_KEY","getTrendingMovies","axios","config","response","data","results","getSearchedMovies","query","getMovieDetails","getMovieCast","cast","getMovieReviews"],"sourceRoot":""}