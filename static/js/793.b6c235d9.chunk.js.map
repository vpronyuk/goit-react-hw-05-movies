{"version":3,"file":"static/js/793.b6c235d9.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/pages/movieDetails/MovieDetails.module.css?3b61","pages/movieDetails/MovieDetails.jsx","services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"detailsContainer\":\"MovieDetails_detailsContainer__KJypw\",\"backLink\":\"MovieDetails_backLink__jzDuq\",\"poster\":\"MovieDetails_poster__ZcBYj\",\"title\":\"MovieDetails_title__-2MyV\",\"userScore\":\"MovieDetails_userScore__CzF0q\",\"overviewTitle\":\"MovieDetails_overviewTitle__YvFBA\",\"overview\":\"MovieDetails_overview__kf4mN\",\"genresTitle\":\"MovieDetails_genresTitle__FqHub\",\"genresList\":\"MovieDetails_genresList__7tAWb\",\"additionalInfoTitle\":\"MovieDetails_additionalInfoTitle__-vPI1\",\"additionalInfoLinks\":\"MovieDetails_additionalInfoLinks__HxuXp\"};","import { useParams, useLocation, Link, Outlet } from 'react-router-dom';\nimport { useState, useEffect, useRef, Suspense } from 'react';\nimport css from './MovieDetails.module.css';\n\nimport * as API from '../../services/api';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const { state } = useLocation();\n  const backLink = useRef(state?.from ?? `/movies`);\n\n  const [movieInfo, setMovieInfo] = useState({});\n\n  const defaultImage =\n    'https://upload.wikimedia.org/wikipedia/commons/6/6c/No_image_3x4.svg';\n\n  useEffect(() => {\n    async function loadMovieById(movieId) {\n      try {\n        const movieResponse = await API.getMovieDetails(movieId);\n        setMovieInfo(movieResponse);\n      } catch (error) {\n        console.log(error.message);\n      }\n    }\n    loadMovieById(movieId);\n  }, [movieId]);\n\n  return (\n    <div className={css.detailsContainer}>\n      {movieInfo && (\n        <>\n          <div className={css.title}>Movie Details page</div>\n          <Link className={css.backLink} to={backLink.current}>\n            Go back\n          </Link>\n\n          <img\n            className={css.poster}\n            src={\n              movieInfo.poster_path\n                ? `https://image.tmdb.org/t/p/w780${movieInfo.poster_path}`\n                : defaultImage\n            }\n            alt={movieInfo.title}\n          />\n\n          <div className={css.title}>\n            {movieInfo.title} ({movieInfo.release_date?.slice(0, 4)})\n          </div>\n          <div className={css.userScore}>\n            User Score: &nbsp; {Math.round(movieInfo.vote_average * 10)}%\n          </div>\n\n          <div className={css.overviewTitle}>Overview</div>\n          <div className={css.overview}>{movieInfo.overview}</div>\n          {movieInfo.genres && (\n            <>\n              <div className={css.genresTitle}>Genres:</div>\n              <ul className={css.genresList}>\n                {movieInfo.genres.map(genre => (\n                  <li key={genre.id}>{genre.name}</li>\n                ))}\n              </ul>\n            </>\n          )}\n          <div className={css.additionalInfoTitle}>Additional information</div>\n          <div className={css.additionalInfoLinks}>\n            <Link className={css.additionalInfoLink} to={`cast`}>\n              Cast\n            </Link>\n            <Link className={css.additionalInfoLink} to={`reviews`}>\n              Reviews\n            </Link>\n          </div>\n          <Suspense>\n            <Outlet />\n          </Suspense>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = 'd95cade1dc5c92803fa23ff687afbf7e';\n\nexport const getTrendingMovies = async () => {\n  try {\n    const response = await axios.get(\n      `${BASE_URL}/trending/movie/week?api_key=${API_KEY}`\n    );\n    return response.data.results;\n  } catch (error) {\n    console.log('Fetch error:', error);\n    return [];\n  }\n};\n\nexport const getSearchedMovies = async query => {\n  try {\n    const response = await axios.get(\n      `${BASE_URL}/search/movie?api_key=${API_KEY}&language=en-US&query=${query}&page=1&include_adult=false`\n    );\n    return response.data.results;\n  } catch (error) {\n    console.log('Fetch error:', error);\n    return [];\n  }\n};\n\nexport const getMovieDetails = async movieId => {\n  try {\n    const response = await axios.get(\n      `${BASE_URL}/movie/${movieId}?api_key=${API_KEY}&language=en-US`\n    );\n    return response.data;\n  } catch (error) {\n    console.log('Fetch error:', error);\n    return null;\n  }\n};\n\nexport const getMovieCast = async movieId => {\n  try {\n    const response = await axios.get(\n      `${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`\n    );\n    return response.data.cast;\n  } catch (error) {\n    console.log('Fetch error:', error);\n    return null;\n  }\n};\n\nexport const getMovieReviews = async movieId => {\n  try {\n    const response = await axios.get(\n      `${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`\n    );\n    return response.data.results;\n  } catch (error) {\n    console.log('Fetch error:', error);\n    return null;\n  }\n};\n"],"names":["movieId","useParams","state","useLocation","backLink","useRef","from","useState","movieInfo","setMovieInfo","useEffect","API","movieResponse","console","log","message","loadMovieById","className","css","to","current","src","poster_path","alt","title","release_date","slice","Math","round","vote_average","overview","genres","map","genre","name","id","Suspense","BASE_URL","API_KEY","getTrendingMovies","axios","response","data","results","getSearchedMovies","query","getMovieDetails","getMovieCast","cast","getMovieReviews"],"sourceRoot":""}